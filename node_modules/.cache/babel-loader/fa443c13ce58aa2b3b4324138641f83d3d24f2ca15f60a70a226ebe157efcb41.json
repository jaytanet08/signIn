{"ast":null,"code":"import { __extends as i } from \"tslib\";\nimport { INVALID_CONFIG as o } from \"@liff/consts\";\nimport { logger as r } from \"@liff/logger\";\nimport { hexToBase64 as e, randomAlphaNumericString as t, createLiffError as f, qs as n } from \"@liff/util\";\nimport { getConfig as l, setLoginTmp as p } from \"@liff/store\";\nimport { getEndPoint as c } from \"@liff/server-api\";\nimport { LiffModule as m } from \"@liff/use\";\nimport { getVersion as s } from \"@liff/get-version\";\nimport { isSubWindow as d } from \"@liff/is-sub-window\";\nimport { isInClient as a } from \"@liff/is-in-client\";\nimport u from \"tiny-sha256\";\nimport { SyncHook as g } from \"@liff/hooks\";\nimport { getMessageBus as h } from \"@liff/sub-window\";\nvar _ = function (i) {\n    var m,\n      g = t(43),\n      _ = e(u(g)).replace(/\\+/g, \"-\").replace(/\\//g, \"_\").replace(/=/g, \"\"),\n      b = l();\n    if (!b || !b.liffId) throw f(o, \"You need to define `liffId` for liff.login()\");\n    var v = {\n      app_id: b.liffId,\n      state: t(12),\n      response_type: \"code\",\n      code_challenge_method: \"S256\",\n      code_challenge: _,\n      liff_sdk_version: s()\n    };\n    i && i.redirectUri && (v.redirect_uri = i.redirectUri), d() && !a() && ((null === (m = h()) || void 0 === m ? void 0 : m.isReady()) ? v.redirect_uri = window.location.href : v.disable_auto_login = \"true\"), p({\n      codeVerifier: g\n    });\n    var w = c(\"authorize\") + \"?\" + n.stringify(v);\n    r.debug(\"[Redirect] \".concat(w)), window.location.href = w;\n  },\n  b = function (o) {\n    function r() {\n      var i = null !== o && o.apply(this, arguments) || this;\n      return i.hooks = {\n        before: new g()\n      }, i;\n    }\n    return i(r, o), Object.defineProperty(r.prototype, \"name\", {\n      get: function () {\n        return \"login\";\n      },\n      enumerable: !1,\n      configurable: !0\n    }), r.prototype.install = function () {\n      return this._login.bind(this);\n    }, r.prototype._login = function (i) {\n      this.hooks.before.call(i), _(i);\n    }, r;\n  }(m);\nexport { b as LoginModule, _ as login };","map":{"version":3,"names":["__extends","i","INVALID_CONFIG","o","logger","r","hexToBase64","e","randomAlphaNumericString","t","createLiffError","f","qs","n","getConfig","l","setLoginTmp","p","getEndPoint","c","LiffModule","m","getVersion","s","isSubWindow","d","isInClient","a","u","SyncHook","g","getMessageBus","h","_","replace","b","liffId","v","app_id","state","response_type","code_challenge_method","code_challenge","liff_sdk_version","redirectUri","redirect_uri","isReady","window","location","href","disable_auto_login","codeVerifier","w","stringify","debug","concat","apply","arguments","hooks","before","Object","defineProperty","prototype","get","enumerable","configurable","install","_login","bind","call","LoginModule","login"],"sources":["C:/Users/tanet/Desktop/register/node_modules/@liff/login/lib/index.es.js"],"sourcesContent":["import{__extends as i}from\"tslib\";import{INVALID_CONFIG as o}from\"@liff/consts\";import{logger as r}from\"@liff/logger\";import{hexToBase64 as e,randomAlphaNumericString as t,createLiffError as f,qs as n}from\"@liff/util\";import{getConfig as l,setLoginTmp as p}from\"@liff/store\";import{getEndPoint as c}from\"@liff/server-api\";import{LiffModule as m}from\"@liff/use\";import{getVersion as s}from\"@liff/get-version\";import{isSubWindow as d}from\"@liff/is-sub-window\";import{isInClient as a}from\"@liff/is-in-client\";import u from\"tiny-sha256\";import{SyncHook as g}from\"@liff/hooks\";import{getMessageBus as h}from\"@liff/sub-window\";var _=function(i){var m,g=t(43),_=e(u(g)).replace(/\\+/g,\"-\").replace(/\\//g,\"_\").replace(/=/g,\"\"),b=l();if(!b||!b.liffId)throw f(o,\"You need to define `liffId` for liff.login()\");var v={app_id:b.liffId,state:t(12),response_type:\"code\",code_challenge_method:\"S256\",code_challenge:_,liff_sdk_version:s()};i&&i.redirectUri&&(v.redirect_uri=i.redirectUri),d()&&!a()&&((null===(m=h())||void 0===m?void 0:m.isReady())?v.redirect_uri=window.location.href:v.disable_auto_login=\"true\"),p({codeVerifier:g});var w=c(\"authorize\")+\"?\"+n.stringify(v);r.debug(\"[Redirect] \".concat(w)),window.location.href=w},b=function(o){function r(){var i=null!==o&&o.apply(this,arguments)||this;return i.hooks={before:new g},i}return i(r,o),Object.defineProperty(r.prototype,\"name\",{get:function(){return\"login\"},enumerable:!1,configurable:!0}),r.prototype.install=function(){return this._login.bind(this)},r.prototype._login=function(i){this.hooks.before.call(i),_(i)},r}(m);export{b as LoginModule,_ as login};\n"],"mappings":"AAAA,SAAOA,SAAS,IAAIC,CAAC,QAAK,OAAO;AAAC,SAAOC,cAAc,IAAIC,CAAC,QAAK,cAAc;AAAC,SAAOC,MAAM,IAAIC,CAAC,QAAK,cAAc;AAAC,SAAOC,WAAW,IAAIC,CAAC,EAACC,wBAAwB,IAAIC,CAAC,EAACC,eAAe,IAAIC,CAAC,EAACC,EAAE,IAAIC,CAAC,QAAK,YAAY;AAAC,SAAOC,SAAS,IAAIC,CAAC,EAACC,WAAW,IAAIC,CAAC,QAAK,aAAa;AAAC,SAAOC,WAAW,IAAIC,CAAC,QAAK,kBAAkB;AAAC,SAAOC,UAAU,IAAIC,CAAC,QAAK,WAAW;AAAC,SAAOC,UAAU,IAAIC,CAAC,QAAK,mBAAmB;AAAC,SAAOC,WAAW,IAAIC,CAAC,QAAK,qBAAqB;AAAC,SAAOC,UAAU,IAAIC,CAAC,QAAK,oBAAoB;AAAC,OAAOC,CAAC,MAAK,aAAa;AAAC,SAAOC,QAAQ,IAAIC,CAAC,QAAK,aAAa;AAAC,SAAOC,aAAa,IAAIC,CAAC,QAAK,kBAAkB;AAAC,IAAIC,CAAC,GAAC,SAAAA,CAAShC,CAAC,EAAC;IAAC,IAAIoB,CAAC;MAACS,CAAC,GAACrB,CAAC,CAAC,EAAE,CAAC;MAACwB,CAAC,GAAC1B,CAAC,CAACqB,CAAC,CAACE,CAAC,CAAC,CAAC,CAACI,OAAO,CAAC,KAAK,EAAC,GAAG,CAAC,CAACA,OAAO,CAAC,KAAK,EAAC,GAAG,CAAC,CAACA,OAAO,CAAC,IAAI,EAAC,EAAE,CAAC;MAACC,CAAC,GAACpB,CAAC,CAAC,CAAC;IAAC,IAAG,CAACoB,CAAC,IAAE,CAACA,CAAC,CAACC,MAAM,EAAC,MAAMzB,CAAC,CAACR,CAAC,EAAC,8CAA8C,CAAC;IAAC,IAAIkC,CAAC,GAAC;MAACC,MAAM,EAACH,CAAC,CAACC,MAAM;MAACG,KAAK,EAAC9B,CAAC,CAAC,EAAE,CAAC;MAAC+B,aAAa,EAAC,MAAM;MAACC,qBAAqB,EAAC,MAAM;MAACC,cAAc,EAACT,CAAC;MAACU,gBAAgB,EAACpB,CAAC,CAAC;IAAC,CAAC;IAACtB,CAAC,IAAEA,CAAC,CAAC2C,WAAW,KAAGP,CAAC,CAACQ,YAAY,GAAC5C,CAAC,CAAC2C,WAAW,CAAC,EAACnB,CAAC,CAAC,CAAC,IAAE,CAACE,CAAC,CAAC,CAAC,KAAG,CAAC,IAAI,MAAIN,CAAC,GAACW,CAAC,CAAC,CAAC,CAAC,IAAE,KAAK,CAAC,KAAGX,CAAC,GAAC,KAAK,CAAC,GAACA,CAAC,CAACyB,OAAO,CAAC,CAAC,IAAET,CAAC,CAACQ,YAAY,GAACE,MAAM,CAACC,QAAQ,CAACC,IAAI,GAACZ,CAAC,CAACa,kBAAkB,GAAC,MAAM,CAAC,EAACjC,CAAC,CAAC;MAACkC,YAAY,EAACrB;IAAC,CAAC,CAAC;IAAC,IAAIsB,CAAC,GAACjC,CAAC,CAAC,WAAW,CAAC,GAAC,GAAG,GAACN,CAAC,CAACwC,SAAS,CAAChB,CAAC,CAAC;IAAChC,CAAC,CAACiD,KAAK,CAAC,aAAa,CAACC,MAAM,CAACH,CAAC,CAAC,CAAC,EAACL,MAAM,CAACC,QAAQ,CAACC,IAAI,GAACG,CAAC;EAAA,CAAC;EAACjB,CAAC,GAAC,UAAShC,CAAC,EAAC;IAAC,SAASE,CAACA,CAAA,EAAE;MAAC,IAAIJ,CAAC,GAAC,IAAI,KAAGE,CAAC,IAAEA,CAAC,CAACqD,KAAK,CAAC,IAAI,EAACC,SAAS,CAAC,IAAE,IAAI;MAAC,OAAOxD,CAAC,CAACyD,KAAK,GAAC;QAACC,MAAM,EAAC,IAAI7B,CAAC,CAAD;MAAC,CAAC,EAAC7B,CAAC;IAAA;IAAC,OAAOA,CAAC,CAACI,CAAC,EAACF,CAAC,CAAC,EAACyD,MAAM,CAACC,cAAc,CAACxD,CAAC,CAACyD,SAAS,EAAC,MAAM,EAAC;MAACC,GAAG,EAAC,SAAAA,CAAA,EAAU;QAAC,OAAM,OAAO;MAAA,CAAC;MAACC,UAAU,EAAC,CAAC,CAAC;MAACC,YAAY,EAAC,CAAC;IAAC,CAAC,CAAC,EAAC5D,CAAC,CAACyD,SAAS,CAACI,OAAO,GAAC,YAAU;MAAC,OAAO,IAAI,CAACC,MAAM,CAACC,IAAI,CAAC,IAAI,CAAC;IAAA,CAAC,EAAC/D,CAAC,CAACyD,SAAS,CAACK,MAAM,GAAC,UAASlE,CAAC,EAAC;MAAC,IAAI,CAACyD,KAAK,CAACC,MAAM,CAACU,IAAI,CAACpE,CAAC,CAAC,EAACgC,CAAC,CAAChC,CAAC,CAAC;IAAA,CAAC,EAACI,CAAC;EAAA,CAAC,CAACgB,CAAC,CAAC;AAAC,SAAOc,CAAC,IAAImC,WAAW,EAACrC,CAAC,IAAIsC,KAAK"},"metadata":{},"sourceType":"module","externalDependencies":[]}