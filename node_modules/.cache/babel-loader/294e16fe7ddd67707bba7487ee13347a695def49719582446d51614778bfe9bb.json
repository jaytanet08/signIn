{"ast":null,"code":"import { __awaiter as t, __generator as e, __read as n, __spreadArray as r, __extends as i, __assign as o } from \"tslib\";\nimport { LiffModule as s } from \"@liff/use\";\nimport { isInClient as u } from \"@liff/is-in-client\";\nimport { validators as a } from \"@liff/is-api-available\";\nimport { STORE_KEY as c, INVALID_CONFIG as f, EXCEPTION_IN_SUBWINDOW as l, SUB_WINDOW_STATUS as d, CREATE_SUBWINDOW_FAILED as m, SUB_WINDOW_IDNTIFICATION_KEY as v, INVALID_ARGUMENT as p, SUB_WINDOW_HEALTH_CHECK_MESSAGE as h, SUB_WINDOW_HEALTH_CHECK_INTERVAL as w, SUB_WINDOW_MONITOR_CLOSE_INTERVAL as g, UNKNOWN as b, UNAUTHORIZED as y, SUB_WINDOW_MODAL_SCHEME_URL as S } from \"@liff/consts\";\nimport { logger as I } from \"@liff/logger\";\nimport { createLiffError as O, InMemoryStorage as P, isNonBrowserEnvironment as C, isIpad as L, extractLiffId as E } from \"@liff/util\";\nimport { getOS as N } from \"@liff/get-os\";\nimport { getEndPoint as T, fetch as j, requestWithoutErrorHandling as M } from \"@liff/server-api\";\nimport { getConfig as B, getMSTChallenge as D, getMST as A, getAppData as J } from \"@liff/store\";\nimport { WINDOW as R, MessageBus as U, IDENTIFIER_KEY as W, CRYPTO_KEY as x } from \"@liff/message-bus\";\nimport { isSubWindow as k } from \"@liff/is-sub-window\";\nimport { closeWindow as K } from \"@liff/close-window\";\nfunction G(t) {\n  var e = T(\"subWindowGetOrigin\");\n  return j(e(t));\n}\nvar V = {};\nfunction F(t, e) {\n  t && V[t] && V[t].forEach(function (t) {\n    t(e);\n  });\n}\nfunction _(t, e) {\n  V[t] || (V[t] = []), V[t].push(e);\n}\nfunction q(t, e) {\n  if (V[t]) {\n    var n = V[t].indexOf(e);\n    n >= 0 && V[t].splice(n, 1);\n  }\n}\nvar z,\n  H,\n  Q,\n  X,\n  Y,\n  Z = function () {\n    function t(t) {\n      this.storage = t;\n    }\n    return t.prototype.getItem = function (t) {\n      return this.storage.getItem(\"\".concat(this.getKeyPrefix(), \":\").concat(t));\n    }, t.prototype.setItem = function (t, e) {\n      this.storage.setItem(\"\".concat(this.getKeyPrefix(), \":\").concat(t), e);\n    }, t.prototype.removeItem = function (t) {\n      this.storage.removeItem(\"\".concat(this.getKeyPrefix(), \":\").concat(t));\n    }, t.prototype.clear = function () {\n      this.storage.clear();\n    }, t.prototype.getKeyPrefix = function () {\n      return \"\".concat(c, \":\").concat(this.getLiffId());\n    }, t.prototype.getLiffId = function () {\n      var t = B().liffId;\n      if (!t) throw O(f, \"liffId is necessary for liff.init()\");\n      return t;\n    }, t;\n  }(),\n  $ = new Z(new P());\nfunction tt() {\n  var t = $.getItem(\"subWindowStatusUpdated\");\n  return null !== t && JSON.parse(t);\n}\nfunction et(t) {\n  $.setItem(\"subWindowStatusUpdated\", String(t));\n}\nfunction nt(t) {\n  z = t;\n}\nfunction rt() {\n  return z;\n}\nfunction it() {\n  return Q;\n}\nfunction ot() {\n  return X;\n}\nfunction st(n) {\n  return void 0 === n && (n = R.MAIN), t(this, void 0, void 0, function () {\n    return e(this, function (t) {\n      switch (t.label) {\n        case 0:\n          return [4, (Y = new U(n)).setup()];\n        case 1:\n          return t.sent(), [2, Y];\n      }\n    });\n  });\n}\nfunction ut() {\n  return Y;\n}\nvar at = new P(),\n  ct = new Z(C() ? at : window.sessionStorage);\nfunction ft(t) {\n  ct.setItem(\"mainWindowOrigin\", t);\n}\nfunction lt() {\n  return ct.getItem(\"mainWindowOrigin\");\n}\nfunction dt(n, r) {\n  return void 0 === r && (r = {}), t(this, void 0, void 0, function () {\n    var t, i, o, s, u, a, c, f;\n    return e(this, function (e) {\n      switch (e.label) {\n        case 0:\n          if (null == (t = ut()) ? void 0 : t.isReady()) return [3, 5];\n          if (i = JSON.stringify(r), o = B().liffId, s = lt(), !window.opener || !s || !o) throw O(l);\n          u = !1, e.label = 1;\n        case 1:\n          return e.trys.push([1, 3,, 4]), [4, G(o)];\n        case 2:\n          return a = e.sent(), u = a.subwindowCommonModule, [3, 4];\n        case 3:\n          throw c = e.sent(), I.debug(c), O(l);\n        case 4:\n          return f = u ? s : location.origin, [2, new Promise(function (t) {\n            window.addEventListener(\"message\", function e(r) {\n              (function (t) {\n                if (t.data && \"string\" == typeof t.data.type && [d.SUBMIT, d.CANCEL].includes(t.data.type)) return !0;\n                return !1;\n              })(r) && (window.removeEventListener(\"message\", e), t({\n                status: n,\n                result: i\n              }));\n            }), window.opener.postMessage({\n              status: n,\n              result: i\n            }, f);\n          })];\n        case 5:\n          return t.send({\n            eventName: n,\n            data: r\n          }), [4, new Promise(function (t) {\n            setTimeout(t, 500);\n          })];\n        case 6:\n          return e.sent(), [2, {\n            status: n,\n            result: JSON.stringify(r)\n          }];\n      }\n    });\n  });\n}\nfunction mt(t) {\n  var e,\n    n = ot();\n  if (t.origin === n) {\n    var r = t.data;\n    if (r) {\n      var i,\n        o = r.status,\n        s = r.result;\n      try {\n        i = JSON.parse(s || \"{}\");\n      } catch (u) {\n        i = {};\n      }\n      switch (o) {\n        case h:\n          window.clearInterval(it()), wt();\n          break;\n        case d.CANCEL:\n        case d.SUBMIT:\n          et(!0), window.clearInterval(it()), window.removeEventListener(\"message\", mt), F(o, i), null === (e = rt()) || void 0 === e || e.postMessage({\n            type: o\n          }, ot());\n          break;\n        default:\n          I.debug(\"unexpected message\");\n      }\n    }\n  }\n}\nvar vt = function (n) {\n  return t(void 0, void 0, void 0, function () {\n    var t, r, i, o;\n    return e(this, function (e) {\n      if (tt()) return [2];\n      switch (t = n.context, r = t.eventName, i = t.data, o = ut(), r) {\n        case d.INIT:\n          ht(!i.hasOpener);\n          break;\n        case d.CANCEL:\n        case d.SUBMIT:\n          et(!0), F(r, i), null == o || o.reply(n, {\n            eventName: r\n          });\n          break;\n        case d.CLOSE:\n          !1 === tt() && (et(!0), F(d.CLOSE, {})), wt();\n      }\n      return [2];\n    });\n  });\n};\nfunction pt() {\n  window.clearInterval(H), window.clearInterval(it()), window.removeEventListener(\"message\", mt);\n}\nfunction ht(t) {\n  if (void 0 === t && (t = !1), pt(), et(!1), t) {\n    var e = rt();\n    e && (e.close(), nt(null));\n  }\n}\nfunction wt() {\n  return t(this, void 0, void 0, function () {\n    var t;\n    return e(this, function (e) {\n      switch (e.label) {\n        case 0:\n          return (t = ut()) ? [4, t.teardown()] : [3, 2];\n        case 1:\n          e.sent(), e.label = 2;\n        case 2:\n          return [2];\n      }\n    });\n  });\n}\nfunction gt(i) {\n  var o;\n  return t(this, void 0, void 0, function () {\n    var t, s, u, a, c, f, l, b, y, S, I;\n    return e(this, function (e) {\n      switch (e.label) {\n        case 0:\n          return (t = E(i.url)) ? (ht(!0), [4, wt()]) : [2, Promise.reject(O(p, \"params.url must be liff url or mini url\"))];\n        case 1:\n          return e.sent(), nt(\"ios\" !== N() || L() ? window.open(\"\", \"liffsubwindow\", \"width=480, height=640, menubar=no, toolbar=no, scrollbars=yes\") : window.open()), s = i.url, u = i.appData, (a = new URL(s)).searchParams.append(v, \"true\"), [4, st()];\n        case 2:\n          return c = e.sent(), a.searchParams.append(W, c.identification.identifier), a.searchParams.append(x, c.identification.cryptoKey), a.hostname = function (t) {\n            var e = n(t.split(\".\")),\n              i = e[0],\n              o = e.slice(1);\n            return r([\"\".concat(i, \"-ext\")], n(o), !1).join(\".\");\n          }(a.hostname), f = a.toString(), [4, G(t)];\n        case 3:\n          if (l = e.sent(), b = l.origin, y = l.subwindowCommonModule, !(S = rt())) throw O(m);\n          if (!y) return S.close(), [2];\n          !function (t) {\n            X = t;\n          }(b), c.listen(vt), c.setData(\"appData\", u), window.addEventListener(\"message\", mt), e.label = 4;\n        case 4:\n          return e.trys.push([4, 6,, 7]), [4, null === (o = i.onBeforeTransition) || void 0 === o ? void 0 : o.call(i)];\n        case 5:\n          return e.sent(), [3, 7];\n        case 6:\n          throw I = e.sent(), S.close(), I;\n        case 7:\n          return S.location.href = f, P = function (t, e) {\n            var n = rt(),\n              r = {\n                type: h\n              };\n            return e && (r.message = JSON.stringify(e)), window.setInterval(function () {\n              null == n || n.postMessage(r, t);\n            }, w);\n          }(b, u), Q = P, function (t) {\n            H = t;\n          }(window.setInterval(function () {\n            var t = rt();\n            t && t.closed && (pt(), nt(null), !1 === tt() && (et(!0), F(d.CLOSE, {})));\n          }, g)), [2];\n      }\n      var P;\n    });\n  });\n}\nvar bt = null;\nfunction yt(i) {\n  return t(this, void 0, void 0, function () {\n    var o,\n      s,\n      u,\n      a,\n      c,\n      f,\n      l,\n      m,\n      v,\n      h,\n      w,\n      g,\n      y,\n      S,\n      I = this;\n    return e(this, function (P) {\n      switch (P.label) {\n        case 0:\n          if (o = i.msit, s = i.mstChallenge, u = i.reconnectCount, a = void 0 === u ? 0 : u, c = function () {\n            return t(I, void 0, void 0, function () {\n              return e(this, function (t) {\n                switch (t.label) {\n                  case 0:\n                    return [4, (e = 1e3, new Promise(function (t) {\n                      return setTimeout(t, e);\n                    }))];\n                  case 1:\n                    return t.sent(), [4, yt({\n                      msit: o,\n                      mstChallenge: s,\n                      onSuccess: i.onSuccess,\n                      onError: i.onError,\n                      reconnectCount: a + 1\n                    })];\n                  case 2:\n                    return t.sent(), [2];\n                }\n                var e;\n              });\n            });\n          }, f = function () {\n            for (var t = [], e = 0; e < arguments.length; e++) t[e] = arguments[e];\n            bt = null, i.onSuccess.apply(i, r([], n(t), !1));\n          }, l = function () {\n            for (var t = [], e = 0; e < arguments.length; e++) t[e] = arguments[e];\n            bt = null, i.onError.apply(i, r([], n(t), !1));\n          }, m = Date.now(), null === bt && (bt = m), v = m - bt, a >= 10 || v > 6e5) return l(O(b, \"Failed to connect\")), [2];\n          P.label = 1;\n        case 1:\n          return P.trys.push([1, 3,, 5]), [4, M(T(\"subWindowSubscribe\"), {\n            method: \"POST\",\n            body: JSON.stringify({\n              msit: o,\n              mstChallenge: s\n            })\n          })];\n        case 2:\n          return h = P.sent(), [3, 5];\n        case 3:\n          return P.sent(), [4, c()];\n        case 4:\n          return P.sent(), [2];\n        case 5:\n          return h.status >= 500 ? [4, c()] : [3, 7];\n        case 6:\n          return P.sent(), [3, 17];\n        case 7:\n          return h.status >= 400 && 500 > h.status ? [4, St(h)] : [3, 9];\n        case 8:\n          return g = P.sent(), w = g ? O(p, g.errorDetail) : O(b, \"Some error happened in the server\"), l(w), [3, 17];\n        case 9:\n          return 200 !== h.status ? [3, 16] : [4, St(h)];\n        case 10:\n          if (!(g = P.sent())) return l(O(b, \"Some error happened in the server\")), [2];\n          switch (y = g.status, S = g.result, y) {\n            case d.ERROR:\n              return [3, 11];\n            case d.CLOSE:\n            case d.CANCEL:\n            case d.SUBMIT:\n              return [3, 13];\n          }\n          return [3, 14];\n        case 11:\n          return [4, c()];\n        case 12:\n          return P.sent(), [3, 15];\n        case 13:\n          return f(y, S), [3, 15];\n        case 14:\n          l(O(b, \"Some error happened in the server\")), P.label = 15;\n        case 15:\n          return [3, 17];\n        case 16:\n          l(O(b, \"Some error happened in the server\")), P.label = 17;\n        case 17:\n          return [2];\n      }\n    });\n  });\n}\nfunction St(n) {\n  return t(this, void 0, void 0, function () {\n    return e(this, function (t) {\n      switch (t.label) {\n        case 0:\n          return t.trys.push([0, 2,, 3]), [4, n.json()];\n        case 1:\n          return [2, t.sent()];\n        case 2:\n          return t.sent(), [2, null];\n        case 3:\n          return [2];\n      }\n    });\n  });\n}\nfunction It(t) {\n  var e = {};\n  return Object.keys(t).forEach(function (n) {\n    \"closeButtonColor\" === n ? \"white\" === t[n] ? e[n] = \"#ffffff\" : e[n] = \"#000000\" : e[n] = t[n];\n  }), e;\n}\nvar Ot = {\n  height: \"full\",\n  closeButtonPosition: \"right\",\n  closeButtonColor: \"black\",\n  closeButtonLabel: \"\"\n};\nfunction Pt(n) {\n  var r = n.appData,\n    i = n.native,\n    o = B().liffId,\n    s = D(),\n    u = E(n.url);\n  if (!o) return Promise.reject(O(y, \"liffId is invalid\"));\n  if (!s) return Promise.reject(O(y, \"mst_challenge is invalid\"));\n  if (!u) return Promise.reject(O(p, \"params.url must be liff url or mini url\"));\n  var a = Object.assign({}, Ot, i);\n  return function (t) {\n    var e = t.mainLiffId,\n      n = t.subLiffId,\n      r = t.mstChallenge,\n      i = t.appData,\n      o = t.view;\n    return e && r ? j(T(\"subWindowGetMSIT\"), {\n      method: \"POST\",\n      body: JSON.stringify({\n        mainLiffId: e,\n        subLiffId: n,\n        mstChallenge: r,\n        appData: i,\n        view: o\n      })\n    }) : Promise.reject(O(p, \"no proper argument\"));\n  }({\n    mainLiffId: o,\n    subLiffId: u,\n    mstChallenge: s,\n    appData: r,\n    view: It(a)\n  }).then(function (t) {\n    var e = t.msit;\n    return yt({\n      msit: e,\n      mstChallenge: s,\n      onSuccess: function (t, e) {\n        F(t, e);\n      },\n      onError: function (t) {\n        F(d.ERROR, t);\n      }\n    }), e;\n  }).then(function (r) {\n    return function (n, r) {\n      var i;\n      return t(this, void 0, void 0, function () {\n        var t, o;\n        return e(this, function (e) {\n          switch (e.label) {\n            case 0:\n              return t = n.url, (o = new URLSearchParams()).set(\"msit\", r), [4, null === (i = n.onBeforeTransition) || void 0 === i ? void 0 : i.call(n)];\n            case 1:\n              return e.sent(), location.href = \"\".concat(S, \"?url=\").concat(encodeURIComponent(t), \"&\").concat(o.toString()), [2];\n          }\n        });\n      });\n    }(n, r);\n  });\n}\nfunction Ct(t) {\n  return a.subwindowOpen(), u() ? Pt(t) : gt(t);\n}\nfunction Lt(t) {\n  if (!t.mst || !t.status) return Promise.reject(O(p, \"no proper argument\"));\n  var e = JSON.stringify(t);\n  return j(T(\"subWindowPost\"), {\n    method: \"POST\",\n    body: e\n  });\n}\nfunction Et() {\n  if (!k()) throw O(y, \"this api can be only called in child window\");\n}\nfunction Nt(n) {\n  return void 0 === n && (n = {}), Et(), u() ? function (n) {\n    return void 0 === n && (n = {}), t(this, void 0, void 0, function () {\n      var t, r;\n      return e(this, function (e) {\n        switch (e.label) {\n          case 0:\n            return (t = A()) ? [4, Lt({\n              mst: t,\n              status: d.CANCEL,\n              result: n\n            })] : [2, Promise.reject(O(y, \"mst is invalid\"))];\n          case 1:\n            return r = e.sent(), et(!0), [2, r];\n        }\n      });\n    });\n  }(n) : function (t) {\n    return void 0 === t && (t = {}), dt(d.CANCEL, t);\n  }(n);\n}\nfunction Tt(n) {\n  return void 0 === n && (n = {}), Et(), u() ? function (n) {\n    return void 0 === n && (n = {}), t(this, void 0, void 0, function () {\n      var t, r;\n      return e(this, function (e) {\n        switch (e.label) {\n          case 0:\n            return (t = A()) ? [4, Lt({\n              mst: t,\n              status: d.SUBMIT,\n              result: n\n            })] : [2, Promise.reject(O(y, \"mst is invalid\"))];\n          case 1:\n            return r = e.sent(), et(!0), [2, r];\n        }\n      });\n    });\n  }(n) : function (t) {\n    return void 0 === t && (t = {}), dt(d.SUBMIT, t);\n  }(n);\n}\nfunction jt() {\n  return Et(), u() ? function () {\n    return t(this, void 0, void 0, function () {\n      var t;\n      return e(this, function (e) {\n        switch (e.label) {\n          case 0:\n            return !1 !== tt() ? [3, 2] : (t = A()) ? [4, Lt({\n              mst: t,\n              status: d.CLOSE,\n              result: {}\n            })] : [2, Promise.reject(O(y, \"mst is invalid\"))];\n          case 1:\n            e.sent(), e.label = 2;\n          case 2:\n            return K(), [2];\n        }\n      });\n    });\n  }() : function () {\n    return t(this, void 0, void 0, function () {\n      var t;\n      return e(this, function (e) {\n        return (null == (t = ut()) ? void 0 : t.isReady()) ? (t.send({\n          eventName: d.CLOSE\n        }), [2, new Promise(function (t) {\n          setTimeout(function () {\n            K(), t();\n          }, w);\n        })]) : (K(), [2, Promise.resolve()]);\n      });\n    });\n  }();\n}\nfunction Mt() {\n  return Et(), function () {\n    var t,\n      e = J();\n    try {\n      t = e ? JSON.parse(e) : {};\n    } catch (n) {\n      t = {};\n    }\n    return Promise.resolve(t);\n  }();\n}\nfunction Bt(t) {\n  var e = t.msit,\n    n = t.mstVerifier;\n  return e && n ? j(T(\"subWindowGetMSTByMSIT\"), {\n    method: \"POST\",\n    body: JSON.stringify({\n      msit: e,\n      mstVerifier: n\n    })\n  }) : Promise.reject(O(p, \"no proper argument\"));\n}\nfunction Dt(t) {\n  var e = t.mst;\n  return e ? j(T(\"subWindowGetAppData\"), {\n    method: \"POST\",\n    body: JSON.stringify({\n      mst: e\n    })\n  }) : Promise.reject(O(p, \"no proper argument\"));\n}\nvar At = {\n    on: _,\n    off: q,\n    open: Ct,\n    cancel: Nt,\n    submit: Tt,\n    close: jt,\n    getAppData: Mt\n  },\n  Jt = function (t) {\n    function e() {\n      return null !== t && t.apply(this, arguments) || this;\n    }\n    return i(e, t), Object.defineProperty(e.prototype, \"name\", {\n      get: function () {\n        return \"subWindow\";\n      },\n      enumerable: !1,\n      configurable: !0\n    }), e.prototype.install = function () {\n      var t = this;\n      return {\n        on: _.bind(this),\n        off: q.bind(this),\n        open: function (e) {\n          return Ct.call(t, o(o({}, e), {\n            onBeforeTransition: void 0\n          }));\n        },\n        cancel: Nt.bind(this),\n        submit: Tt.bind(this),\n        close: jt.bind(this),\n        getAppData: Mt.bind(this)\n      };\n    }, e;\n  }(s);\nexport { Jt as SubWindowModule, Dt as getAppData, Bt as getMSTByMSIT, lt as getMainWindowOrigin, ut as getMessageBus, st as initMessageBus, ft as setMainWindowOrigin, At as subWindow };","map":{"version":3,"names":["__awaiter","t","__generator","e","__read","n","__spreadArray","r","__extends","i","__assign","o","LiffModule","s","isInClient","u","validators","a","STORE_KEY","c","INVALID_CONFIG","f","EXCEPTION_IN_SUBWINDOW","l","SUB_WINDOW_STATUS","d","CREATE_SUBWINDOW_FAILED","m","SUB_WINDOW_IDNTIFICATION_KEY","v","INVALID_ARGUMENT","p","SUB_WINDOW_HEALTH_CHECK_MESSAGE","h","SUB_WINDOW_HEALTH_CHECK_INTERVAL","w","SUB_WINDOW_MONITOR_CLOSE_INTERVAL","g","UNKNOWN","b","UNAUTHORIZED","y","SUB_WINDOW_MODAL_SCHEME_URL","S","logger","I","createLiffError","O","InMemoryStorage","P","isNonBrowserEnvironment","C","isIpad","L","extractLiffId","E","getOS","N","getEndPoint","T","fetch","j","requestWithoutErrorHandling","M","getConfig","B","getMSTChallenge","D","getMST","A","getAppData","J","WINDOW","R","MessageBus","U","IDENTIFIER_KEY","W","CRYPTO_KEY","x","isSubWindow","k","closeWindow","K","G","V","F","forEach","_","push","q","indexOf","splice","z","H","Q","X","Y","Z","storage","prototype","getItem","concat","getKeyPrefix","setItem","removeItem","clear","getLiffId","liffId","$","tt","JSON","parse","et","String","nt","rt","it","ot","st","MAIN","label","setup","sent","ut","at","ct","window","sessionStorage","ft","lt","dt","isReady","stringify","opener","trys","subwindowCommonModule","debug","location","origin","Promise","addEventListener","data","type","SUBMIT","CANCEL","includes","removeEventListener","status","result","postMessage","send","eventName","setTimeout","mt","clearInterval","wt","vt","context","INIT","ht","hasOpener","reply","CLOSE","pt","close","teardown","gt","url","reject","open","appData","URL","searchParams","append","identification","identifier","cryptoKey","hostname","split","slice","join","toString","listen","setData","onBeforeTransition","call","href","message","setInterval","closed","bt","yt","msit","mstChallenge","reconnectCount","onSuccess","onError","arguments","length","apply","Date","now","method","body","St","errorDetail","ERROR","json","It","Object","keys","Ot","height","closeButtonPosition","closeButtonColor","closeButtonLabel","Pt","native","assign","mainLiffId","subLiffId","view","then","URLSearchParams","set","encodeURIComponent","Ct","subwindowOpen","Lt","mst","Et","Nt","Tt","jt","resolve","Mt","Bt","mstVerifier","Dt","At","on","off","cancel","submit","Jt","defineProperty","get","enumerable","configurable","install","bind","SubWindowModule","getMSTByMSIT","getMainWindowOrigin","getMessageBus","initMessageBus","setMainWindowOrigin","subWindow"],"sources":["C:/Users/tanet/Desktop/register/node_modules/@liff/sub-window/lib/index.es.js"],"sourcesContent":["import{__awaiter as t,__generator as e,__read as n,__spreadArray as r,__extends as i,__assign as o}from\"tslib\";import{LiffModule as s}from\"@liff/use\";import{isInClient as u}from\"@liff/is-in-client\";import{validators as a}from\"@liff/is-api-available\";import{STORE_KEY as c,INVALID_CONFIG as f,EXCEPTION_IN_SUBWINDOW as l,SUB_WINDOW_STATUS as d,CREATE_SUBWINDOW_FAILED as m,SUB_WINDOW_IDNTIFICATION_KEY as v,INVALID_ARGUMENT as p,SUB_WINDOW_HEALTH_CHECK_MESSAGE as h,SUB_WINDOW_HEALTH_CHECK_INTERVAL as w,SUB_WINDOW_MONITOR_CLOSE_INTERVAL as g,UNKNOWN as b,UNAUTHORIZED as y,SUB_WINDOW_MODAL_SCHEME_URL as S}from\"@liff/consts\";import{logger as I}from\"@liff/logger\";import{createLiffError as O,InMemoryStorage as P,isNonBrowserEnvironment as C,isIpad as L,extractLiffId as E}from\"@liff/util\";import{getOS as N}from\"@liff/get-os\";import{getEndPoint as T,fetch as j,requestWithoutErrorHandling as M}from\"@liff/server-api\";import{getConfig as B,getMSTChallenge as D,getMST as A,getAppData as J}from\"@liff/store\";import{WINDOW as R,MessageBus as U,IDENTIFIER_KEY as W,CRYPTO_KEY as x}from\"@liff/message-bus\";import{isSubWindow as k}from\"@liff/is-sub-window\";import{closeWindow as K}from\"@liff/close-window\";function G(t){var e=T(\"subWindowGetOrigin\");return j(e(t))}var V={};function F(t,e){t&&V[t]&&V[t].forEach((function(t){t(e)}))}function _(t,e){V[t]||(V[t]=[]),V[t].push(e)}function q(t,e){if(V[t]){var n=V[t].indexOf(e);n>=0&&V[t].splice(n,1)}}var z,H,Q,X,Y,Z=function(){function t(t){this.storage=t}return t.prototype.getItem=function(t){return this.storage.getItem(\"\".concat(this.getKeyPrefix(),\":\").concat(t))},t.prototype.setItem=function(t,e){this.storage.setItem(\"\".concat(this.getKeyPrefix(),\":\").concat(t),e)},t.prototype.removeItem=function(t){this.storage.removeItem(\"\".concat(this.getKeyPrefix(),\":\").concat(t))},t.prototype.clear=function(){this.storage.clear()},t.prototype.getKeyPrefix=function(){return\"\".concat(c,\":\").concat(this.getLiffId())},t.prototype.getLiffId=function(){var t=B().liffId;if(!t)throw O(f,\"liffId is necessary for liff.init()\");return t},t}(),$=new Z(new P);function tt(){var t=$.getItem(\"subWindowStatusUpdated\");return null!==t&&JSON.parse(t)}function et(t){$.setItem(\"subWindowStatusUpdated\",String(t))}function nt(t){z=t}function rt(){return z}function it(){return Q}function ot(){return X}function st(n){return void 0===n&&(n=R.MAIN),t(this,void 0,void 0,(function(){return e(this,(function(t){switch(t.label){case 0:return[4,(Y=new U(n)).setup()];case 1:return t.sent(),[2,Y]}}))}))}function ut(){return Y}var at=new P,ct=new Z(C()?at:window.sessionStorage);function ft(t){ct.setItem(\"mainWindowOrigin\",t)}function lt(){return ct.getItem(\"mainWindowOrigin\")}function dt(n,r){return void 0===r&&(r={}),t(this,void 0,void 0,(function(){var t,i,o,s,u,a,c,f;return e(this,(function(e){switch(e.label){case 0:if(null==(t=ut())?void 0:t.isReady())return[3,5];if(i=JSON.stringify(r),o=B().liffId,s=lt(),!window.opener||!s||!o)throw O(l);u=!1,e.label=1;case 1:return e.trys.push([1,3,,4]),[4,G(o)];case 2:return a=e.sent(),u=a.subwindowCommonModule,[3,4];case 3:throw c=e.sent(),I.debug(c),O(l);case 4:return f=u?s:location.origin,[2,new Promise((function(t){window.addEventListener(\"message\",(function e(r){(function(t){if(t.data&&\"string\"==typeof t.data.type&&[d.SUBMIT,d.CANCEL].includes(t.data.type))return!0;return!1})(r)&&(window.removeEventListener(\"message\",e),t({status:n,result:i}))})),window.opener.postMessage({status:n,result:i},f)}))];case 5:return t.send({eventName:n,data:r}),[4,new Promise((function(t){setTimeout(t,500)}))];case 6:return e.sent(),[2,{status:n,result:JSON.stringify(r)}]}}))}))}function mt(t){var e,n=ot();if(t.origin===n){var r=t.data;if(r){var i,o=r.status,s=r.result;try{i=JSON.parse(s||\"{}\")}catch(u){i={}}switch(o){case h:window.clearInterval(it()),wt();break;case d.CANCEL:case d.SUBMIT:et(!0),window.clearInterval(it()),window.removeEventListener(\"message\",mt),F(o,i),null===(e=rt())||void 0===e||e.postMessage({type:o},ot());break;default:I.debug(\"unexpected message\")}}}}var vt=function(n){return t(void 0,void 0,void 0,(function(){var t,r,i,o;return e(this,(function(e){if(tt())return[2];switch(t=n.context,r=t.eventName,i=t.data,o=ut(),r){case d.INIT:ht(!i.hasOpener);break;case d.CANCEL:case d.SUBMIT:et(!0),F(r,i),null==o||o.reply(n,{eventName:r});break;case d.CLOSE:!1===tt()&&(et(!0),F(d.CLOSE,{})),wt()}return[2]}))}))};function pt(){window.clearInterval(H),window.clearInterval(it()),window.removeEventListener(\"message\",mt)}function ht(t){if(void 0===t&&(t=!1),pt(),et(!1),t){var e=rt();e&&(e.close(),nt(null))}}function wt(){return t(this,void 0,void 0,(function(){var t;return e(this,(function(e){switch(e.label){case 0:return(t=ut())?[4,t.teardown()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))}function gt(i){var o;return t(this,void 0,void 0,(function(){var t,s,u,a,c,f,l,b,y,S,I;return e(this,(function(e){switch(e.label){case 0:return(t=E(i.url))?(ht(!0),[4,wt()]):[2,Promise.reject(O(p,\"params.url must be liff url or mini url\"))];case 1:return e.sent(),nt(\"ios\"!==N()||L()?window.open(\"\",\"liffsubwindow\",\"width=480, height=640, menubar=no, toolbar=no, scrollbars=yes\"):window.open()),s=i.url,u=i.appData,(a=new URL(s)).searchParams.append(v,\"true\"),[4,st()];case 2:return c=e.sent(),a.searchParams.append(W,c.identification.identifier),a.searchParams.append(x,c.identification.cryptoKey),a.hostname=function(t){var e=n(t.split(\".\")),i=e[0],o=e.slice(1);return r([\"\".concat(i,\"-ext\")],n(o),!1).join(\".\")}(a.hostname),f=a.toString(),[4,G(t)];case 3:if(l=e.sent(),b=l.origin,y=l.subwindowCommonModule,!(S=rt()))throw O(m);if(!y)return S.close(),[2];!function(t){X=t}(b),c.listen(vt),c.setData(\"appData\",u),window.addEventListener(\"message\",mt),e.label=4;case 4:return e.trys.push([4,6,,7]),[4,null===(o=i.onBeforeTransition)||void 0===o?void 0:o.call(i)];case 5:return e.sent(),[3,7];case 6:throw I=e.sent(),S.close(),I;case 7:return S.location.href=f,P=function(t,e){var n=rt(),r={type:h};return e&&(r.message=JSON.stringify(e)),window.setInterval((function(){null==n||n.postMessage(r,t)}),w)}(b,u),Q=P,function(t){H=t}(window.setInterval((function(){var t=rt();t&&t.closed&&(pt(),nt(null),!1===tt()&&(et(!0),F(d.CLOSE,{})))}),g)),[2]}var P}))}))}var bt=null;function yt(i){return t(this,void 0,void 0,(function(){var o,s,u,a,c,f,l,m,v,h,w,g,y,S,I=this;return e(this,(function(P){switch(P.label){case 0:if(o=i.msit,s=i.mstChallenge,u=i.reconnectCount,a=void 0===u?0:u,c=function(){return t(I,void 0,void 0,(function(){return e(this,(function(t){switch(t.label){case 0:return[4,(e=1e3,new Promise((function(t){return setTimeout(t,e)})))];case 1:return t.sent(),[4,yt({msit:o,mstChallenge:s,onSuccess:i.onSuccess,onError:i.onError,reconnectCount:a+1})];case 2:return t.sent(),[2]}var e}))}))},f=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];bt=null,i.onSuccess.apply(i,r([],n(t),!1))},l=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];bt=null,i.onError.apply(i,r([],n(t),!1))},m=Date.now(),null===bt&&(bt=m),v=m-bt,a>=10||v>6e5)return l(O(b,\"Failed to connect\")),[2];P.label=1;case 1:return P.trys.push([1,3,,5]),[4,M(T(\"subWindowSubscribe\"),{method:\"POST\",body:JSON.stringify({msit:o,mstChallenge:s})})];case 2:return h=P.sent(),[3,5];case 3:return P.sent(),[4,c()];case 4:return P.sent(),[2];case 5:return h.status>=500?[4,c()]:[3,7];case 6:return P.sent(),[3,17];case 7:return h.status>=400&&500>h.status?[4,St(h)]:[3,9];case 8:return g=P.sent(),w=g?O(p,g.errorDetail):O(b,\"Some error happened in the server\"),l(w),[3,17];case 9:return 200!==h.status?[3,16]:[4,St(h)];case 10:if(!(g=P.sent()))return l(O(b,\"Some error happened in the server\")),[2];switch(y=g.status,S=g.result,y){case d.ERROR:return[3,11];case d.CLOSE:case d.CANCEL:case d.SUBMIT:return[3,13]}return[3,14];case 11:return[4,c()];case 12:return P.sent(),[3,15];case 13:return f(y,S),[3,15];case 14:l(O(b,\"Some error happened in the server\")),P.label=15;case 15:return[3,17];case 16:l(O(b,\"Some error happened in the server\")),P.label=17;case 17:return[2]}}))}))}function St(n){return t(this,void 0,void 0,(function(){return e(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,n.json()];case 1:return[2,t.sent()];case 2:return t.sent(),[2,null];case 3:return[2]}}))}))}function It(t){var e={};return Object.keys(t).forEach((function(n){\"closeButtonColor\"===n?\"white\"===t[n]?e[n]=\"#ffffff\":e[n]=\"#000000\":e[n]=t[n]})),e}var Ot={height:\"full\",closeButtonPosition:\"right\",closeButtonColor:\"black\",closeButtonLabel:\"\"};function Pt(n){var r=n.appData,i=n.native,o=B().liffId,s=D(),u=E(n.url);if(!o)return Promise.reject(O(y,\"liffId is invalid\"));if(!s)return Promise.reject(O(y,\"mst_challenge is invalid\"));if(!u)return Promise.reject(O(p,\"params.url must be liff url or mini url\"));var a=Object.assign({},Ot,i);return function(t){var e=t.mainLiffId,n=t.subLiffId,r=t.mstChallenge,i=t.appData,o=t.view;return e&&r?j(T(\"subWindowGetMSIT\"),{method:\"POST\",body:JSON.stringify({mainLiffId:e,subLiffId:n,mstChallenge:r,appData:i,view:o})}):Promise.reject(O(p,\"no proper argument\"))}({mainLiffId:o,subLiffId:u,mstChallenge:s,appData:r,view:It(a)}).then((function(t){var e=t.msit;return yt({msit:e,mstChallenge:s,onSuccess:function(t,e){F(t,e)},onError:function(t){F(d.ERROR,t)}}),e})).then((function(r){return function(n,r){var i;return t(this,void 0,void 0,(function(){var t,o;return e(this,(function(e){switch(e.label){case 0:return t=n.url,(o=new URLSearchParams).set(\"msit\",r),[4,null===(i=n.onBeforeTransition)||void 0===i?void 0:i.call(n)];case 1:return e.sent(),location.href=\"\".concat(S,\"?url=\").concat(encodeURIComponent(t),\"&\").concat(o.toString()),[2]}}))}))}(n,r)}))}function Ct(t){return a.subwindowOpen(),u()?Pt(t):gt(t)}function Lt(t){if(!t.mst||!t.status)return Promise.reject(O(p,\"no proper argument\"));var e=JSON.stringify(t);return j(T(\"subWindowPost\"),{method:\"POST\",body:e})}function Et(){if(!k())throw O(y,\"this api can be only called in child window\")}function Nt(n){return void 0===n&&(n={}),Et(),u()?function(n){return void 0===n&&(n={}),t(this,void 0,void 0,(function(){var t,r;return e(this,(function(e){switch(e.label){case 0:return(t=A())?[4,Lt({mst:t,status:d.CANCEL,result:n})]:[2,Promise.reject(O(y,\"mst is invalid\"))];case 1:return r=e.sent(),et(!0),[2,r]}}))}))}(n):function(t){return void 0===t&&(t={}),dt(d.CANCEL,t)}(n)}function Tt(n){return void 0===n&&(n={}),Et(),u()?function(n){return void 0===n&&(n={}),t(this,void 0,void 0,(function(){var t,r;return e(this,(function(e){switch(e.label){case 0:return(t=A())?[4,Lt({mst:t,status:d.SUBMIT,result:n})]:[2,Promise.reject(O(y,\"mst is invalid\"))];case 1:return r=e.sent(),et(!0),[2,r]}}))}))}(n):function(t){return void 0===t&&(t={}),dt(d.SUBMIT,t)}(n)}function jt(){return Et(),u()?function(){return t(this,void 0,void 0,(function(){var t;return e(this,(function(e){switch(e.label){case 0:return!1!==tt()?[3,2]:(t=A())?[4,Lt({mst:t,status:d.CLOSE,result:{}})]:[2,Promise.reject(O(y,\"mst is invalid\"))];case 1:e.sent(),e.label=2;case 2:return K(),[2]}}))}))}():function(){return t(this,void 0,void 0,(function(){var t;return e(this,(function(e){return(null==(t=ut())?void 0:t.isReady())?(t.send({eventName:d.CLOSE}),[2,new Promise((function(t){setTimeout((function(){K(),t()}),w)}))]):(K(),[2,Promise.resolve()])}))}))}()}function Mt(){return Et(),function(){var t,e=J();try{t=e?JSON.parse(e):{}}catch(n){t={}}return Promise.resolve(t)}()}function Bt(t){var e=t.msit,n=t.mstVerifier;return e&&n?j(T(\"subWindowGetMSTByMSIT\"),{method:\"POST\",body:JSON.stringify({msit:e,mstVerifier:n})}):Promise.reject(O(p,\"no proper argument\"))}function Dt(t){var e=t.mst;return e?j(T(\"subWindowGetAppData\"),{method:\"POST\",body:JSON.stringify({mst:e})}):Promise.reject(O(p,\"no proper argument\"))}var At={on:_,off:q,open:Ct,cancel:Nt,submit:Tt,close:jt,getAppData:Mt},Jt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),Object.defineProperty(e.prototype,\"name\",{get:function(){return\"subWindow\"},enumerable:!1,configurable:!0}),e.prototype.install=function(){var t=this;return{on:_.bind(this),off:q.bind(this),open:function(e){return Ct.call(t,o(o({},e),{onBeforeTransition:void 0}))},cancel:Nt.bind(this),submit:Tt.bind(this),close:jt.bind(this),getAppData:Mt.bind(this)}},e}(s);export{Jt as SubWindowModule,Dt as getAppData,Bt as getMSTByMSIT,lt as getMainWindowOrigin,ut as getMessageBus,st as initMessageBus,ft as setMainWindowOrigin,At as subWindow};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}