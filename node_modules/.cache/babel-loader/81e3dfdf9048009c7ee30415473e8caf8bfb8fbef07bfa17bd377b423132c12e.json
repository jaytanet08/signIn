{"ast":null,"code":"import { __extends as t } from \"tslib\";\nimport { SUB_WINDOW_IDNTIFICATION_KEY as n, STORE_KEY as i, INVALID_CONFIG as e } from \"@liff/consts\";\nimport { createLiffError as o, isNonBrowserEnvironment as r, isSubWindow as f } from \"@liff/util\";\nimport { getConfig as u } from \"@liff/store\";\nimport { isInClient as s } from \"@liff/is-in-client\";\nimport { LiffModule as c } from \"@liff/use\";\nvar a = function () {\n    function t() {}\n    return t.prototype.invoke = function () {\n      return f();\n    }, t;\n  }(),\n  l = function () {\n    function t(t) {\n      this.storage = t;\n    }\n    return Object.defineProperty(t, \"IN_SUB_WINDOW_KEY\", {\n      get: function () {\n        return \"inSubWindow\";\n      },\n      enumerable: !1,\n      configurable: !0\n    }), t.prototype.invoke = function () {\n      return new URLSearchParams(window.location.search).has(n) && this.setInSubWindow(!0), !(!this.getInSubWindow() && !this.getSubWindowIdentifier());\n    }, t.prototype.getInSubWindow = function () {\n      var n = this.storage.getItem(\"\".concat(i, \":\").concat(this.getLiffId(), \":\").concat(t.IN_SUB_WINDOW_KEY));\n      return null !== n && JSON.parse(n);\n    }, t.prototype.getSubWindowIdentifier = function () {\n      var t,\n        n,\n        i = \"liff.subwindow.identifier\",\n        e = new URLSearchParams(window.location.search);\n      return e.get(i) || (t = i, (n = e.get(\"liff.state\")) ? new URLSearchParams(n).get(t) : null) || null;\n    }, t.prototype.setInSubWindow = function (n) {\n      this.storage.setItem(\"\".concat(i, \":\").concat(this.getLiffId(), \":\").concat(t.IN_SUB_WINDOW_KEY), String(n));\n    }, t.prototype.getLiffId = function () {\n      var t = u().liffId;\n      if (!t) throw o(e, \"liffId is necessary for liff.init()\");\n      return t;\n    }, t;\n  }(),\n  p = function (n) {\n    function i() {\n      var t = n.call(this) || this;\n      return r() ? t.impl = {\n        invoke: function () {\n          return !1;\n        }\n      } : s() ? t.impl = new a() : t.impl = new l(window.sessionStorage), t;\n    }\n    return t(i, n), Object.defineProperty(i.prototype, \"name\", {\n      get: function () {\n        return \"isSubWindow\";\n      },\n      enumerable: !1,\n      configurable: !0\n    }), i.prototype.install = function () {\n      return this.impl.invoke.bind(this.impl);\n    }, i;\n  }(c),\n  m = new p(),\n  d = m.install();\nexport { p as IsSubWindowModule, d as isSubWindow, m as module };","map":{"version":3,"names":["__extends","t","SUB_WINDOW_IDNTIFICATION_KEY","n","STORE_KEY","i","INVALID_CONFIG","e","createLiffError","o","isNonBrowserEnvironment","r","isSubWindow","f","getConfig","u","isInClient","s","LiffModule","c","a","prototype","invoke","l","storage","Object","defineProperty","get","enumerable","configurable","URLSearchParams","window","location","search","has","setInSubWindow","getInSubWindow","getSubWindowIdentifier","getItem","concat","getLiffId","IN_SUB_WINDOW_KEY","JSON","parse","setItem","String","liffId","p","call","impl","sessionStorage","install","bind","m","d","IsSubWindowModule","module"],"sources":["C:/Users/tanet/Desktop/register/node_modules/@liff/is-sub-window/lib/index.es.js"],"sourcesContent":["import{__extends as t}from\"tslib\";import{SUB_WINDOW_IDNTIFICATION_KEY as n,STORE_KEY as i,INVALID_CONFIG as e}from\"@liff/consts\";import{createLiffError as o,isNonBrowserEnvironment as r,isSubWindow as f}from\"@liff/util\";import{getConfig as u}from\"@liff/store\";import{isInClient as s}from\"@liff/is-in-client\";import{LiffModule as c}from\"@liff/use\";var a=function(){function t(){}return t.prototype.invoke=function(){return f()},t}(),l=function(){function t(t){this.storage=t}return Object.defineProperty(t,\"IN_SUB_WINDOW_KEY\",{get:function(){return\"inSubWindow\"},enumerable:!1,configurable:!0}),t.prototype.invoke=function(){return new URLSearchParams(window.location.search).has(n)&&this.setInSubWindow(!0),!(!this.getInSubWindow()&&!this.getSubWindowIdentifier())},t.prototype.getInSubWindow=function(){var n=this.storage.getItem(\"\".concat(i,\":\").concat(this.getLiffId(),\":\").concat(t.IN_SUB_WINDOW_KEY));return null!==n&&JSON.parse(n)},t.prototype.getSubWindowIdentifier=function(){var t,n,i=\"liff.subwindow.identifier\",e=new URLSearchParams(window.location.search);return e.get(i)||(t=i,(n=e.get(\"liff.state\"))?new URLSearchParams(n).get(t):null)||null},t.prototype.setInSubWindow=function(n){this.storage.setItem(\"\".concat(i,\":\").concat(this.getLiffId(),\":\").concat(t.IN_SUB_WINDOW_KEY),String(n))},t.prototype.getLiffId=function(){var t=u().liffId;if(!t)throw o(e,\"liffId is necessary for liff.init()\");return t},t}(),p=function(n){function i(){var t=n.call(this)||this;return r()?t.impl={invoke:function(){return!1}}:s()?t.impl=new a:t.impl=new l(window.sessionStorage),t}return t(i,n),Object.defineProperty(i.prototype,\"name\",{get:function(){return\"isSubWindow\"},enumerable:!1,configurable:!0}),i.prototype.install=function(){return this.impl.invoke.bind(this.impl)},i}(c),m=new p,d=m.install();export{p as IsSubWindowModule,d as isSubWindow,m as module};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}